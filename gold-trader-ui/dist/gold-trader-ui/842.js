"use strict";(self.webpackChunkgold_trader_ui=self.webpackChunkgold_trader_ui||[]).push([[842],{461:(I,_,t)=>{t.r(_),t.d(_,{LoginComponent:()=>F});var e=t(9417),u=t(8132),c=t(2200),p=t(5206),n=t(3664),f=t(5425),E=t(1782),h=t(8822),s=t(5596),g=t(9588),M=t(3746),C=t(2765),P=t(9183),L=t(8834);function O(a,o){1&a&&(n.j41(0,"mat-error"),n.EFF(1," Username is required "),n.k0s())}function D(a,o){1&a&&(n.j41(0,"mat-error"),n.EFF(1," Password is required "),n.k0s())}function v(a,o){1&a&&(n.j41(0,"span"),n.EFF(1,"Login"),n.k0s())}function b(a,o){1&a&&n.nrm(0,"mat-spinner",13)}let F=(()=>{var a;class o{constructor(m,i,r,l){this.fb=m,this.authService=i,this.router=r,this.snackBar=l,this.isLoading=!1,this.loginForm=this.fb.group({username:["",[e.k0.required,e.k0.minLength(3)]],password:["",[e.k0.required,e.k0.minLength(6)]],rememberMe:[!1]})}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/dashboard"])}onSubmit(){this.loginForm.valid&&(this.isLoading=!0,this.authService.login(this.loginForm.value).subscribe({next:()=>{this.snackBar.open("Login successful!","Close",{duration:3e3,panelClass:["success-snackbar"]}),this.router.navigate(["/dashboard"])},error:i=>{this.isLoading=!1,this.snackBar.open(i?.error?.message||"Login failed. Please try again.","Close",{duration:5e3,panelClass:["error-snackbar"]})},complete:()=>{this.isLoading=!1}}))}static#n=a=()=>(this.\u0275fac=function(i){return new(i||o)(n.rXU(e.ok),n.rXU(f.u),n.rXU(E.Ix),n.rXU(h.UG))},this.\u0275cmp=n.VBU({type:o,selectors:[["app-login"]],decls:27,vars:6,consts:[[1,"login-container"],[1,"login-card"],[1,"login-title"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","formControlName","username","placeholder","Enter your username"],[4,"ngIf"],["matInput","","type","password","formControlName","password","placeholder","Enter your password"],["formControlName","rememberMe",1,"remember-me"],[1,"login-actions"],["mat-raised-button","","color","primary",1,"login-button",3,"click","disabled"],["diameter","20",4,"ngIf"],["mat-button","","routerLink","/register",1,"register-link"],["diameter","20"]],template:function(i,r){if(1&i&&(n.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),n.EFF(4,"Gold Trader Login"),n.k0s(),n.j41(5,"mat-card-subtitle"),n.EFF(6,"Access your trading account"),n.k0s()(),n.j41(7,"mat-card-content")(8,"form",3),n.bIt("ngSubmit",function(){return r.onSubmit()}),n.j41(9,"mat-form-field",4)(10,"mat-label"),n.EFF(11,"Username"),n.k0s(),n.nrm(12,"input",5),n.DNE(13,O,2,0,"mat-error",6),n.k0s(),n.j41(14,"mat-form-field",4)(15,"mat-label"),n.EFF(16,"Password"),n.k0s(),n.nrm(17,"input",7),n.DNE(18,D,2,0,"mat-error",6),n.k0s(),n.j41(19,"mat-checkbox",8),n.EFF(20," Remember me "),n.k0s()()(),n.j41(21,"mat-card-actions",9)(22,"button",10),n.bIt("click",function(){return r.onSubmit()}),n.DNE(23,v,2,0,"span",6)(24,b,1,0,"mat-spinner",11),n.k0s(),n.j41(25,"a",12),n.EFF(26," Don't have an account? Register "),n.k0s()()()()),2&i){let l,d;n.R7$(8),n.Y8G("formGroup",r.loginForm),n.R7$(5),n.Y8G("ngIf",null==(l=r.loginForm.get("username"))?null:l.hasError("required")),n.R7$(5),n.Y8G("ngIf",null==(d=r.loginForm.get("password"))?null:d.hasError("required")),n.R7$(4),n.Y8G("disabled",r.loginForm.invalid||r.isLoading),n.R7$(),n.Y8G("ngIf",!r.isLoading),n.R7$(),n.Y8G("ngIf",r.isLoading)}},dependencies:[c.MD,c.bT,p.G,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,s.RN,s.YY,s.m2,s.MM,s.Lc,s.dh,g.rl,g.nJ,g.TL,M.fg,C.So,P.LG,L.$z,e.X1,e.YN,u.Wk],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px}.login-card[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:20px;box-shadow:0 8px 32px #0000001a}.login-title[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#333;text-align:center;margin-bottom:8px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.full-width[_ngcontent-%COMP%]{width:100%}.remember-me[_ngcontent-%COMP%]{margin:8px 0}.login-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:16px 0 0}.login-button[_ngcontent-%COMP%]{width:100%;height:48px;display:flex;align-items:center;justify-content:center;gap:8px}.register-link[_ngcontent-%COMP%]{text-align:center;color:#666;text-decoration:none}.register-link[_ngcontent-%COMP%]:hover{color:#667eea}mat-spinner[_ngcontent-%COMP%]{margin:0 auto}"]}))}return a(),o})()}}]);