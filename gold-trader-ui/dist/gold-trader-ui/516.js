"use strict";(self.webpackChunkgold_trader_ui=self.webpackChunkgold_trader_ui||[]).push([[516],{4516:(C,l,o)=>{o.r(l),o.d(l,{dashboardRoutes:()=>F});var m=o(1413),g=o(6354),p=o(6977),s=o(2200),f=o(5206),t=o(3664),h=o(7593),v=o(1290),c=o(5596);function u(e,a){if(1&e&&(t.j41(0,"div",6)(1,"div",7)(2,"span",8),t.EFF(3,"Balance:"),t.k0s(),t.j41(4,"span",9),t.EFF(5),t.nI1(6,"currency"),t.k0s()(),t.j41(7,"div",7)(8,"span",8),t.EFF(9,"Equity:"),t.k0s(),t.j41(10,"span",9),t.EFF(11),t.nI1(12,"currency"),t.k0s()(),t.j41(13,"div",7)(14,"span",8),t.EFF(15,"Open Trades:"),t.k0s(),t.j41(16,"span",9),t.EFF(17),t.k0s()(),t.j41(18,"div",7)(19,"span",8),t.EFF(20,"Profit/Loss:"),t.k0s(),t.j41(21,"span",9),t.EFF(22),t.nI1(23,"currency"),t.k0s()()()),2&e){const n=a.ngIf;t.R7$(5),t.JRh(t.bMT(6,8,n.balance)),t.R7$(6),t.JRh(t.bMT(12,10,n.equity)),t.R7$(6),t.JRh(n.open_trades),t.R7$(4),t.AVh("positive",n.profit>=0)("negative",n.profit<0),t.R7$(),t.SpI(" ",t.bMT(23,12,n.profit)," ")}}function b(e,a){if(1&e&&(t.j41(0,"div",12)(1,"div",13),t.EFF(2),t.k0s(),t.j41(3,"div",14)(4,"div",15),t.EFF(5),t.k0s(),t.j41(6,"div",16),t.EFF(7),t.k0s()()()),2&e){const n=a.$implicit;t.R7$(),t.AVh("buy","BUY"===n.direction)("sell","SELL"===n.direction),t.R7$(),t.SpI(" ",n.direction," "),t.R7$(3),t.JRh(n.instrument),t.R7$(2),t.JRh(n.entry_price)}}function x(e,a){if(1&e&&(t.j41(0,"div",10),t.DNE(1,b,8,7,"div",11),t.k0s()),2&e){const n=a.ngIf;t.R7$(),t.Y8G("ngForOf",n.slice(0,5))}}function M(e,a){if(1&e&&(t.j41(0,"div",17)(1,"div",18)(2,"span",19),t.EFF(3,"Win Rate:"),t.k0s(),t.j41(4,"span",20),t.EFF(5),t.nI1(6,"percent"),t.k0s()(),t.j41(7,"div",18)(8,"span",19),t.EFF(9,"Total Pips:"),t.k0s(),t.j41(10,"span",20),t.EFF(11),t.k0s()(),t.j41(12,"div",18)(13,"span",19),t.EFF(14,"Profit/Loss:"),t.k0s(),t.j41(15,"span",20),t.EFF(16),t.nI1(17,"currency"),t.k0s()()()),2&e){const n=a.ngIf;t.R7$(5),t.JRh(t.bMT(6,7,n.win_rate)),t.R7$(6),t.JRh(n.total_pips),t.R7$(4),t.AVh("positive",n.total_profit_loss>=0)("negative",n.total_profit_loss<0),t.R7$(),t.SpI(" ",t.bMT(17,9,n.total_profit_loss)," ")}}const F=[{path:"",component:(()=>{var e;class a{constructor(i,r){this.apiService=i,this.webSocketService=r,this.destroy$=new m.B}ngOnInit(){this.loadDashboardData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDashboardData(){this.accountInfo$=this.apiService.getBalance(),this.recentSignals$=this.apiService.getSignals({limit:10}).pipe((0,g.T)(i=>i.signals),(0,p.Q)(this.destroy$)),this.performanceMetrics$=this.apiService.getDailyPerformance().pipe((0,g.T)(i=>i.metrics&&i.metrics.length>0?i.metrics[0]:{date:(new Date).toISOString().split("T")[0],instrument:"XAUUSD",total_signals:0,total_trades:0,winning_trades:0,losing_trades:0,win_rate:i.summary?.average_win_rate||0,average_rr:0,total_pips:i.summary?.total_pips||0,total_profit_loss:i.summary?.total_profit_loss||0,largest_win:0,largest_loss:0,max_drawdown:0,sharpe_ratio:0}),(0,p.Q)(this.destroy$))}static#t=e=()=>(this.\u0275fac=function(r){return new(r||a)(t.rXU(h.G),t.rXU(v.V))},this.\u0275cmp=t.VBU({type:a,selectors:[["app-dashboard"]],decls:23,vars:9,consts:[[1,"dashboard-container"],[1,"dashboard-card"],["class","account-info",4,"ngIf"],[1,"dashboard-grid"],["class","signals-list",4,"ngIf"],["class","performance-metrics",4,"ngIf"],[1,"account-info"],[1,"info-row"],[1,"label"],[1,"value"],[1,"signals-list"],["class","signal-item",4,"ngFor","ngForOf"],[1,"signal-item"],[1,"signal-direction"],[1,"signal-info"],[1,"signal-pair"],[1,"signal-price"],[1,"performance-metrics"],[1,"metric"],[1,"metric-label"],[1,"metric-value"]],template:function(r,d){1&r&&(t.j41(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title"),t.EFF(4,"Account Overview"),t.k0s()(),t.j41(5,"mat-card-content"),t.DNE(6,u,24,14,"div",2),t.nI1(7,"async"),t.k0s()(),t.j41(8,"div",3)(9,"mat-card",1)(10,"mat-card-header")(11,"mat-card-title"),t.EFF(12,"Recent Signals"),t.k0s()(),t.j41(13,"mat-card-content"),t.DNE(14,x,2,1,"div",4),t.nI1(15,"async"),t.k0s()(),t.j41(16,"mat-card",1)(17,"mat-card-header")(18,"mat-card-title"),t.EFF(19,"Performance"),t.k0s()(),t.j41(20,"mat-card-content"),t.DNE(21,M,18,11,"div",5),t.nI1(22,"async"),t.k0s()()()()),2&r&&(t.R7$(6),t.Y8G("ngIf",t.bMT(7,3,d.accountInfo$)),t.R7$(8),t.Y8G("ngIf",t.bMT(15,5,d.recentSignals$)),t.R7$(7),t.Y8G("ngIf",t.bMT(22,7,d.performanceMetrics$)))},dependencies:[s.MD,s.Sq,s.bT,f.G,c.RN,c.m2,c.MM,c.dh,s.Jj,s.m1,s.oe],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px}.dashboard-card[_ngcontent-%COMP%]{height:100%;box-shadow:0 2px 8px #0000001a;border-radius:8px}.account-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #eee}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.label[_ngcontent-%COMP%]{font-weight:500;color:#666}.value[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.value.positive[_ngcontent-%COMP%]{color:#4caf50}.value.negative[_ngcontent-%COMP%]{color:#f44336}.signals-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.signal-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border-radius:6px;background-color:#f5f5f5;border-left:4px solid #ccc}.signal-item[_ngcontent-%COMP%]:hover{background-color:#eee}.signal-direction[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-weight:600;font-size:12px;min-width:50px;text-align:center}.signal-direction.buy[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.signal-direction.sell[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}.signal-info[_ngcontent-%COMP%]{flex:1}.signal-pair[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.signal-price[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.performance-metrics[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.metric[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #eee}.metric[_ngcontent-%COMP%]:last-child{border-bottom:none}.metric-label[_ngcontent-%COMP%]{font-weight:500;color:#666}.metric-value[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.metric-value.positive[_ngcontent-%COMP%]{color:#4caf50}.metric-value.negative[_ngcontent-%COMP%]{color:#f44336}@media (max-width: 768px){.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-container[_ngcontent-%COMP%]{padding:10px}.signal-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.signal-direction[_ngcontent-%COMP%]{align-self:flex-end}}@media (prefers-contrast: high){.dashboard-card[_ngcontent-%COMP%]{border:2px solid #000}.signal-item[_ngcontent-%COMP%]{border-left-width:2px}}@media (prefers-reduced-motion: reduce){.signal-item[_ngcontent-%COMP%]{transition:none}}"]}))}return e(),a})(),data:{title:"Dashboard",description:"Trading dashboard with account overview and recent signals"}}]}}]);